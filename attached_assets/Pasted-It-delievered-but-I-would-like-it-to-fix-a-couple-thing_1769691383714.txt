It delievered but I would like it to fix a couple things: 

a) dashboard screen: I dont know what I would have as the main dashboard in agency mode yet, perhaps an overview of all active campaigns or make it into a task/project manager for me. In the subaccount mode however, I want a funnel view conversion chart and some other interesting stats per account and per campaign  

b) I would like the replit AI to mock up two client accounts that I can see a contact and table view when I click on accounts tab in agency mode (full of info about them liek I got in nocodb). I then want to be able to switch to their subaccount when I click the workspace button. For me the default would be agency view ofc but with the custoemr, they would only see their own account view. 

c) I would like a overview of the campaign when I click on it (it doesnt need to be in a new page, it can just expand the container with the description of the campaign

d) I want the chatbox to be in its own page called conversations. I am uploading an image of the layout that I want to see. when clicking on the leads name on the top right side, open this lead's specific page

e) I would like a calendar tab which would show the appointments booked. 

f)In agency view, I would like to have a couple more pages such as automation logs, Users, Prompt_Library. I would like the option to filter per account and per campagin of each account in each of these pages (besides Users, would be per account only). Later I might set these same buttons in the subaccount view available just for me to quickly edit them per account without having to return to the agency view.  

g) I want in the leads page showing the leads as a table view with each lead stacked on top of each other like image 2. I want a couple buttons at the top such as filter and import and add lead (which opens a pop up form to fill in). When the name of a lead is clicked, I want it to open a page just like I on image 3. 
In there I want in the middle the chatbox that allows us to manually takeover the interaction or simply watch what has been  shared between the lead and the AI so far. I am not sure if I want appointment section on the right side of the page like it is in go high level but maybe it can stay there for now.
 I want the option to manually make changes to the lead on the left bar like the options below:
Contact
First Name
Last Name
Email
Phone
Date Of Birth
Contact Source
Contact Type

General Info
Additional Info
utm_content
utm_source
consent
utm_campaign
utm_medium
Wants To Schedule?
Platform

ChatGPT
First Message Sent
AI Memory
Lead Response
Chat-GPT
Memory
Actions

Tags

Automation

h) the main page header and footer can be removed as they dont make sense in dashboard mode. I would like a tiny and thin left bar with a couple icons (a little tag appears when hover over). I would like the search to be there, also notifications, settings, nightmode, help and chat with leadawaker support (where a little chatbox appear on the right side). I  would like my favicon.svg to be used on the very top of this bar. 

i) I want the current left bar to be on the right of this mini left edge bar. I want at the top to show the selected account (for me agency or subaccount) and for the users (just their subaccount, so it would not even be a button for them). And below it the pages that are already set up and the ones I am asking here to be set up too.

I am happy with this, can  you turn it into a nice prompt for replit for me? thanks

**UPGRADE my existing /app CRM dashboard** based on these **exact fixes** matching uploaded images + my NocoDB schema. Keep **React 19 + wouter + Tailwind + mocks**. **FRONTEND‚ÄëONLY**, English UI, `/app/*` routes.

## üéØ SPECIFIC FIXES (Priority Order)

### **a) Dashboard Redesign**
**AGENCY MODE** (default): Task/Project Manager overview  
- Top: Active Campaigns cards (3‚Äë4 across: name, status, leads_count, next_run)  
- Middle: My Tasks table (mock from Automation_Logs + Leads: lead_name, priority, next_action_at, status)  
- Bottom: Recent Activity feed (Interactions + Logs)  

**SUBACCOUNT MODE**: Funnel chart + stats  
- Conversion funnel chart (New ‚Üí Contacted ‚Üí Responded ‚Üí Booked)  
- Per‚Äëaccount stats: Total Leads, Active Campaigns, Bookings/Mo, AI Cost  
- Per‚Äëcampaign mini‚Äëcards below funnel  

### **b) Accounts Tab + Subaccount Switch**
- **Agency Accounts page**: Table with **2 mock clients** (FitnessGym ABC, LawFirm XYZ) matching my schema (name, type="Enterprise", twilio_sid, owner_email, status="Active"). Columns: name, leads_count, campaigns_active, last_interaction.  
- **Workspace Switch**: Top‚Äëright button ‚Üí dropdown (LeadAwaker Agency | FitnessGym | LawFirm). Click subaccount ‚Üí set `currentAccountId` ‚Üí filter all data. Clients hardcoded to their account_id only.  

### **c) Campaign Expand (Inline)**
- Campaigns list/card ‚Üí hover/click ‚Üí expand **inline** (no modal/page): show description, bump_templates (snippet), ai_prompt_template (truncated), stats (sent/received, cost). Collapse button.  

### **d) Conversations Page + Lead Detail**
- **New Sidebar**: "Conversations" ‚Üí `/app/conversations` (lead list table)  
- **Click Lead Name**: `/app/lead/:id` ‚Üí **image 3 layout**:  
  - **Left sidebar**: Contact form (First/Last Name, Email, Phone, DOB, Source, Type) + General (UTM fields, consent, Wants Schedule?, Platform)  
  - **Center**: **Chatbox** (Interactions reverse chrono, bubbles like image 1, manual textarea + Send)  
  - **Right**: Tags (pills) + Automation status + Actions dropdown  
  - **Top**: Lead name/phone/status badges  

### **e) Calendar Tab**
- Sidebar "Calendar" ‚Üí `/app/calendar` ‚Üí Mock appointments table (from Leads.booked_call_date): date, time, lead_name, status, calendar_link. Monthly calendar view + list.  

### **f) Agency Pages + Filters**
**New Agency Sidebar** (below account switcher): Dashboard | Leads | Conversations | Campaigns | Accounts | Calendar | Automation Logs | Users | Tags | Prompt Library | Settings  

**Each page filters** (top bar): Account dropdown (all/agency/clients) + Campaign dropdown (per account).  
- **Automation Logs**: Table (lead_id, status, error_message, execution_time_ms)  
- **Users**: Per‚Äëaccount table (email, role, last_login_at)  
- **Prompt Library**: Cards (name, use_case, model, performance_score)  
- **Subaccounts**: Same filters/buttons available (quick‚Äëedit without agency switch)  

### **g) Leads Page Table (Image 2)**
`/app/leads` ‚Üí **Stacked table cards** (image 2):  
- **Top buttons**: Filter (status/priority), Import CSV, + Add Lead ‚Üí **popup form** (all Lead fields: name, phone, source, etc.)  
- **Table**: full_name, phone, email, business_name, created_at, last_activity, tags (pills), actions  
- **Click name** ‚Üí `/app/lead/:id` (image 3 layout)  

### **h) New Header Design**
- **REMOVE** main header/footer  
- **NEW THIN LEFT EDGE BAR** (60px wide, icons‚Äëonly, hover tooltip):  
  1. **favicon.svg** (top, LeadAwaker logo)  
  2. üîç Global Search (Leads/Interactions)  
  3. üîî Notifications (new Interactions)  
  4. ‚öôÔ∏è Settings  
  5. üåô Night mode toggle  
  6. ‚ùì Help  
  7. üí¨ LeadAwaker Support ‚Üí **right‚Äëside chatbox popup** (mock Intercom)  

### **i) Right Sidebar Restructure**
- **Move current sidebar ‚Üí RIGHT SIDE** (300px, collapsible)  
- **Top**: Selected Account badge/button (LeadAwaker Agency | [Switch Workspace ‚ñº])  
- **Below**: Navigation icons/labels (Dashboard, Leads, Conversations, Campaigns, Accounts, Calendar, Automation Logs, Users, Tags, Prompt Library, Settings)  
- **Clients**: Fixed to their account (no switch button)  

## üõ† IMPLEMENTATION
- **Keep**: React 19 + wouter + Tailwind  
- **Mocks**: Expand to 2 clients + 50 leads/interactions matching my exact schema  
- **Lead Detail**: `/app/lead/:id` uses useParams()  
- **Filters**: React state + useMemo (mock data.filter(account_id === selectedAccount && campaign_id === selectedCampaign))  
- **Chatbox**: Scrollable div, new messages bottom, direction bubbles (in left/out right)  
- **Popup forms**: Headless UI Dialog (or simple modal)  
- **Charts**: Recharts funnel/pie for subaccount dashboard  
- **Static‚Äëready**: `npm run build` works  

## üìÅ FILES TO UPDATE/GENERATE
```
src/App.tsx (router + thin left bar + right sidebar)
src/pages/AppDashboard.tsx (new agency task mgr + subaccount funnel)
src/pages/Leads.tsx (stacked table + Add Lead popup)
src/pages/LeadDetail.tsx (image 3: left form + center chat + right tags)
src/pages/Conversations.tsx (lead list ‚Üí detail)
src/pages/Calendar.tsx (appointments)
src/pages/Accounts.tsx (2 mock clients + switch)
src/pages/[Campaigns|AutomationLogs|Users|Tags|Prompts].tsx (with filters)
src/components/ThinLeftBar.tsx
src/components/RightSidebar.tsx
src/components/ChatBubble.tsx
src/components/LeadFilters.tsx
src/data/mocks-extended.ts (50+ records)
```

**Match uploaded images EXACTLY** (conversations layout, leads table, lead detail). **Agency default**. Generate **NOW**! üöÄ

Citations:
[1] 1000106010.jpg https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/132508724/e4c7293c-0b27-47b8-aaf4-5b50f9f14a0e/1000106010.jpg?AWSAccessKeyId=ASIA2F3EMEYE3ORRJGNJ&Signature=hP%2FAonOOsV%2F1BCyT%2Bw8fXPfRZiI%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEL3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJHMEUCIQCZ13zlN91liHHnOxhHrPJVHjZFiFlroUHs0GrzVkssXwIgMVyfJyYsLljmY3JqYE2busvfdAaw1L4bCW5hJ2a7Po0q%2FAQIhf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARABGgw2OTk3NTMzMDk3MDUiDHuYDyQfWfp8KRw4YyrQBCEuIGCCdDwvNvygRVvgGgHeFqO6IkCaI9sQTjys0flZ%2FqTDVVawlB0m0x0RW52FpHMplU4o43QzAbn7GNrvS6RDwL7OZdFJZX1oheScIxz863ovCqJPNtsUdpjZzmSzKuefVpy4%2BJKUVdWq%2F1knPMAKwI4NuzjKzyh0hy5q2dRwdD94%2FU9RbHG07%2BMYNP%2BzByff24ueT2s9GrwI8NQ9I0in3pgpOOlHeM%2B%2FqsWS4wSE4F5WfOeIEFpTwwokivRbcD0B9l8D8Kjhe5mT2ZSSEhet90I5Z%2FKOMnlG7A4vklXZewKKAhgVnaZAvMDsgXAjuaJmXMi5xvoPn3KbEYfNd7hOeOgDgNBXN4C16GKZUDLVysy7bOASUjjUwb99HFMoy097tFFCy%2FJF707xaUZ5gdWNlqE7XMWw3be%2FQ8oWb%2F1r%2F%2Fx9Zt%2FXlBGJ5w05grUGqTsFeS%2Fj6oWGHr2kgcFH%2Bi53kf4rJFWHuDUJPL%2Bmgso3Txec%2FTrLY6sWIj3b9FOgxQojqEx%2BNQoBJYe1FydL4Fyuu%2FnzfTZ%2FVi%2FA5nCf3F0OD7YaAqUUVtUAIsb51T5hzmmkFSacJ30tXRHCkY5dm6Scp3JynQXdQmapkLMyXHIUpDNxXjn2VOwBWYAo9PQ6NImqts0I5D69p6iRJbs9vYTb6zkqd%2BvOhW9CWGnbTLooW7jEr%2BHRnsicIbHP63%2F1zKJtdqgNShBbiNouTJu%2FgWt4acIgQ%2Flsbi%2FI3S%2FDdCS6riTW2x2vCDcTGl1l9h3A2jFhrpCGut%2BITSQcHKuEH1EwiqDtywY6mAGWoIkP0O8B8e0W9%2BSw0xab%2BfBGKfLheER8wPBChQqiE4vqfMbSkMdc9SsceSFR3SCPPTcNUNR5s3GI3DN%2FdBnCZ4ml7RYhjmSpb4JtYSGpYqy7yNycmB0I%2Fz4YO%2FLrK%2FEwZkvR%2Bk1wm6DdVOinY%2F8jx6LPdFHk99%2BRvZhhohQOSyKohDIJg7IMelFi3dbwZjR89zz2dYFA4A%3D%3D&Expires=1769691967
[2] 1000106009.jpg https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/132508724/1c80e118-1530-450f-bd96-f231dc0654b1/1000106009.jpg?AWSAccessKeyId=ASIA2F3EMEYE3ORRJGNJ&Signature=0dW0vG6FKScXFaX921Bz3CFFuWs%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEL3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJHMEUCIQCZ13zlN91liHHnOxhHrPJVHjZFiFlroUHs0GrzVkssXwIgMVyfJyYsLljmY3JqYE2busvfdAaw1L4bCW5hJ2a7Po0q%2FAQIhf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARABGgw2OTk3NTMzMDk3MDUiDHuYDyQfWfp8KRw4YyrQBCEuIGCCdDwvNvygRVvgGgHeFqO6IkCaI9sQTjys0flZ%2FqTDVVawlB0m0x0RW52FpHMplU4o43QzAbn7GNrvS6RDwL7OZdFJZX1oheScIxz863ovCqJPNtsUdpjZzmSzKuefVpy4%2BJKUVdWq%2F1knPMAKwI4NuzjKzyh0hy5q2dRwdD94%2FU9RbHG07%2BMYNP%2BzByff24ueT2s9GrwI8NQ9I0in3pgpOOlHeM%2B%2FqsWS4wSE4F5WfOeIEFpTwwokivRbcD0B9l8D8Kjhe5mT2ZSSEhet90I5Z%2FKOMnlG7A4vklXZewKKAhgVnaZAvMDsgXAjuaJmXMi5xvoPn3KbEYfNd7hOeOgDgNBXN4C16GKZUDLVysy7bOASUjjUwb99HFMoy097tFFCy%2FJF707xaUZ5gdWNlqE7XMWw3be%2FQ8oWb%2F1r%2F%2Fx9Zt%2FXlBGJ5w05grUGqTsFeS%2Fj6oWGHr2kgcFH%2Bi53kf4rJFWHuDUJPL%2Bmgso3Txec%2FTrLY6sWIj3b9FOgxQojqEx%2BNQoBJYe1FydL4Fyuu%2FnzfTZ%2FVi%2FA5nCf3F0OD7YaAqUUVtUAIsb51T5hzmmkFSacJ30tXRHCkY5dm6Scp3JynQXdQmapkLMyXHIUpDNxXjn2VOwBWYAo9PQ6NImqts0I5D69p6iRJbs9vYTb6zkqd%2BvOhW9CWGnbTLooW7jEr%2BHRnsicIbHP63%2F1zKJtdqgNShBbiNouTJu%2FgWt4acIgQ%2Flsbi%2FI3S%2FDdCS6riTW2x2vCDcTGl1l9h3A2jFhrpCGut%2BITSQcHKuEH1EwiqDtywY6mAGWoIkP0O8B8e0W9%2BSw0xab%2BfBGKfLheER8wPBChQqiE4vqfMbSkMdc9SsceSFR3SCPPTcNUNR5s3GI3DN%2FdBnCZ4ml7RYhjmSpb4JtYSGpYqy7yNycmB0I%2Fz4YO%2FLrK%2FEwZkvR%2Bk1wm6DdVOinY%2F8jx6LPdFHk99%2BRvZhhohQOSyKohDIJg7IMelFi3dbwZjR89zz2dYFA4A%3D%3D&Expires=1769691967
[3] 1000106008.jpg https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/132508724/5d0f8d85-5177-4c85-befe-f8309f532381/1000106008.jpg?AWSAccessKeyId=ASIA2F3EMEYE3ORRJGNJ&Signature=011veKY5ICeYDQv9frReMPcjGr0%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEL3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJHMEUCIQCZ13zlN91liHHnOxhHrPJVHjZFiFlroUHs0GrzVkssXwIgMVyfJyYsLljmY3JqYE2busvfdAaw1L4bCW5hJ2a7Po0q%2FAQIhf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARABGgw2OTk3NTMzMDk3MDUiDHuYDyQfWfp8KRw4YyrQBCEuIGCCdDwvNvygRVvgGgHeFqO6IkCaI9sQTjys0flZ%2FqTDVVawlB0m0x0RW52FpHMplU4o43QzAbn7GNrvS6RDwL7OZdFJZX1oheScIxz863ovCqJPNtsUdpjZzmSzKuefVpy4%2BJKUVdWq%2F1knPMAKwI4NuzjKzyh0hy5q2dRwdD94%2FU9RbHG07%2BMYNP%2BzByff24ueT2s9GrwI8NQ9I0in3pgpOOlHeM%2B%2FqsWS4wSE4F5WfOeIEFpTwwokivRbcD0B9l8D8Kjhe5mT2ZSSEhet90I5Z%2FKOMnlG7A4vklXZewKKAhgVnaZAvMDsgXAjuaJmXMi5xvoPn3KbEYfNd7hOeOgDgNBXN4C16GKZUDLVysy7bOASUjjUwb99HFMoy097tFFCy%2FJF707xaUZ5gdWNlqE7XMWw3be%2FQ8oWb%2F1r%2F%2Fx9Zt%2FXlBGJ5w05grUGqTsFeS%2Fj6oWGHr2kgcFH%2Bi53kf4rJFWHuDUJPL%2Bmgso3Txec%2FTrLY6sWIj3b9FOgxQojqEx%2BNQoBJYe1FydL4Fyuu%2FnzfTZ%2FVi%2FA5nCf3F0OD7YaAqUUVtUAIsb51T5hzmmkFSacJ30tXRHCkY5dm6Scp3JynQXdQmapkLMyXHIUpDNxXjn2VOwBWYAo9PQ6NImqts0I5D69p6iRJbs9vYTb6zkqd%2BvOhW9CWGnbTLooW7jEr%2BHRnsicIbHP63%2F1zKJtdqgNShBbiNouTJu%2FgWt4acIgQ%2Flsbi%2FI3S%2FDdCS6riTW2x2vCDcTGl1l9h3A2jFhrpCGut%2BITSQcHKuEH1EwiqDtywY6mAGWoIkP0O8B8e0W9%2BSw0xab%2BfBGKfLheER8wPBChQqiE4vqfMbSkMdc9SsceSFR3SCPPTcNUNR5s3GI3DN%2FdBnCZ4ml7RYhjmSpb4JtYSGpYqy7yNycmB0I%2Fz4YO%2FLrK%2FEwZkvR%2Bk1wm6DdVOinY%2F8jx6LPdFHk99%2BRvZhhohQOSyKohDIJg7IMelFi3dbwZjR89zz2dYFA4A%3D%3D&Expires=1769691967
[4] 1000106003.jpg https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/132508724/86d25ce3-0bac-4b71-9f93-70b8e1e7b375/1000106003.jpg
[5] 1000106004.jpg https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/132508724/eeeaebc6-73a7-4718-86ab-582f868b6108/1000106004.jpg
