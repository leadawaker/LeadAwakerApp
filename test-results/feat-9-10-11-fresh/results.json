{
  "feature9": {
    "steps": [
      {
        "step": "Initial state: sidebar expanded",
        "pass": true,
        "note": "Width=180px (expected >100px for expanded)"
      },
      {
        "step": "Step 1: Click collapse toggle, sidebar shrinks to icon-only",
        "pass": true,
        "note": "Width=60px (expected <100px for icon-only)"
      },
      {
        "step": "Step 1b: Nav labels hidden in collapsed state",
        "pass": true,
        "note": "Labels hidden (pass)"
      },
      {
        "step": "Step 2: Click expand toggle, sidebar shows full labels",
        "pass": false,
        "note": "Width=60px (expected >100px for expanded)"
      },
      {
        "step": "Step 2b: Nav labels visible after expand",
        "pass": false,
        "note": "Labels still hidden (fail)"
      }
    ],
    "pass": false,
    "error": "elementHandle.click: Timeout 30000ms exceeded.\nCall log:\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <html lang=\"en\">…</html> intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <html lang=\"en\">…</html> intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    57 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <html lang=\"en\">…</html> intercepts pointer events\n     - retrying click action\n       - waiting 500ms\n"
  },
  "feature10": {
    "steps": [
      {
        "step": "Admin sees all 11 nav items",
        "pass": true,
        "note": "Found 11 nav items: Dashboard, Accounts, Campaigns, Leads, Chats, Calendar, Tags, Library, Users, Automations, Settings"
      },
      {
        "step": "Admin sees agency-only items (accounts, tags, users, automation, library, settings)",
        "pass": true,
        "note": "settings=true, accounts=true, tags=true, users=true, automation=true, library=true"
      },
      {
        "step": "Viewer/Manager sees only 5 allowed pages (no agency-only items)",
        "pass": true,
        "note": "Found 5 nav items: Dashboard, Campaigns, Leads, Chats, Calendar"
      },
      {
        "step": "Viewer does NOT see agency-only items",
        "pass": true,
        "note": "settings=false, accounts=false, tags=false, users=false, automation=false, library=false"
      },
      {
        "step": "Step 3: Hidden pages not accessible via direct URL for viewer",
        "pass": true,
        "note": "URL after access attempt: http://localhost:5173/subaccount/dashboard, redirected/blocked: true"
      }
    ],
    "pass": true
  },
  "feature11": {
    "steps": [
      {
        "step": "Step 1: Admin sees account switcher in sidebar",
        "pass": true,
        "note": "Account switcher found [data-testid=\"sidebar-account-switcher\"]"
      },
      {
        "step": "Step 2: Account switcher dropdown opens with accounts list",
        "pass": true,
        "note": "Found 7 account options in dropdown"
      },
      {
        "step": "Step 2b: Selecting account filters page data to that account",
        "pass": true,
        "note": "URL: http://localhost:5173/subaccount/dashboard, localStorage account: 4"
      },
      {
        "step": "Step 3: Client/Viewer user does NOT see account switcher",
        "pass": true,
        "note": "Account switcher hidden for viewer (PASS)"
      }
    ],
    "pass": true
  }
}